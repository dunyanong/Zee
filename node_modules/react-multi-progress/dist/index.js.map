{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { css } from \"glamor\";\n\nexport interface ProgressElement {\n\tvalue: number;\n\tcolor: string;\n\tshowPercentage?: boolean;\n\ttextColor?: string;\n\tfontSize?: number;\n\tclassName?: string;\n}\n\nexport type ProgressComponentProps<T> = {\n\tchildren?: React.ReactNode,\n\tclassName?: string,\n\telement: (ProgressElement & T)\n} & Record<string, unknown>;\n\nexport type IMultiProgressProps<T> = {\n\tbackgroundColor?: string;\n\tborder?: string;\n\telements: (ProgressElement & T)[];\n\theight?: number | string;\n\tround?: boolean;\n\troundLastElement?: boolean;\n\ttransitionTime?: number;\n\tclassName?: string;\n\tcomponent?: React.ElementType<ProgressComponentProps<T>>\n};\nconst styles = {\n\tprogressContainer: (\n\t\tround: boolean,\n\t\theight: string | number,\n\t\tborder: string\n\t) => {\n\t\tconst convertedHeight = typeof height === \"string\" ? height : height + \"px\";\n\t\treturn css({\n\t\t\twidth: \"100%\",\n\t\t\theight: convertedHeight,\n\t\t\tposition: \"relative\",\n\t\t\tborder,\n\t\t\tborderRadius: round ? \"400px\" : \"0\",\n\t\t\toverflow: \"hidden\",\n\t\t});\n\t},\n\tprogressBackground: (backgroundColor: string) =>\n\t\tcss({\n\t\t\tbackgroundColor,\n\t\t\twidth: \"100%\",\n\t\t\theight: \"100%\",\n\t\t\tposition: \"absolute\",\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t}),\n\tprogressElement: (\n\t\tbackgroundColor: string,\n\t\toffset: number,\n\t\tvalue: number,\n\t\ttransitionTime: number,\n\t\troundRight: boolean,\n\t\ttextColor: string | undefined,\n\t\tfontSize: number | undefined\n\t) => {\n\t\tconst roundRightString = roundRight ? \"40px 40px\" : \"0 0\";\n\t\treturn css({\n\t\t\tbackgroundColor,\n\t\t\twidth: value + \"%\",\n\t\t\tzIndex: 8,\n\t\t\theight: \"100%\",\n\t\t\ttop: 0,\n\t\t\tleft: offset + \"%\",\n\t\t\tposition: \"absolute\",\n\t\t\ttransition:\n\t\t\t\t\"width \" +\n\t\t\t\ttransitionTime +\n\t\t\t\t\"s ease-in-out, left \" +\n\t\t\t\ttransitionTime +\n\t\t\t\t\"s ease-in-out\",\n\t\t\tborderRadius: \"0 \" + roundRightString + \" 0\",\n\t\t\tcolor: textColor,\n\t\t\ttextAlign: \"center\",\n\t\t\tfontSize: fontSize ? fontSize : 8,\n\t\t});\n\t},\n};\n\nfunction createElementArray<T>(\n\telements: (T & ProgressElement)[],\n\ttransitionTime: number,\n\troundLastElement: boolean,\n\tcomponent: IMultiProgressProps<T>[\"component\"]\n) {\n\tlet currentOffset = 0;\n\tlet newElements: React.ReactNode[] = [];\n\n\tconst Element = component ?? \"div\";\n\n\telements.forEach((element, i) => {\n\t\tnewElements.push(\n\t\t\t<Element\n\t\t\t\t{...styles.progressElement(\n\t\t\t\t\telement.color,\n\t\t\t\t\tcurrentOffset,\n\t\t\t\t\telement.value,\n\t\t\t\t\ttransitionTime,\n\t\t\t\t\ti === elements.length - 1 && roundLastElement,\n\t\t\t\t\telement.textColor,\n\t\t\t\t\telement.fontSize\n\t\t\t\t)}\n\t\t\t\tkey={i}\n\t\t\t\tclassName={element.className}\n\t\t\t\telement={element}\n\t\t\t>\n\t\t\t\t{element.showPercentage && `${element.value}%`}\n\t\t\t</Element>\n\t\t);\n\t\tcurrentOffset += element.value;\n\t});\n\treturn newElements;\n}\n\nexport default function MultiProgress<T = Record<string, never>>({\n\tbackgroundColor = \"#ffffff\",\n\tborder = \"\",\n\telements,\n\theight = 10,\n\tround = true,\n\troundLastElement = true,\n\ttransitionTime = 0.6,\n\tclassName,\n\tcomponent\n}: IMultiProgressProps<T>) {\n\treturn (\n\t\t<div\n\t\t\t{...styles.progressContainer(round, height, border)}\n\t\t\tclassName={className}\n\t\t>\n\t\t\t<div {...styles.progressBackground(backgroundColor)} />\n\t\t\t{createElementArray(elements, transitionTime, roundLastElement, component).map(\n\t\t\t\t(element, i) => (\n\t\t\t\t\t<div key={i}>{element}</div>\n\t\t\t\t)\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"],"names":["css","React.createElement"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,IAAM,MAAM,GAAG;IACd,iBAAiB,EAAE,UAClB,KAAc,EACd,MAAuB,EACvB,MAAc;QAEd,IAAM,eAAe,GAAG,OAAO,MAAM,KAAK,QAAQ,GAAG,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC;QAC5E,OAAOA,UAAG,CAAC;YACV,KAAK,EAAE,MAAM;YACb,MAAM,EAAE,eAAe;YACvB,QAAQ,EAAE,UAAU;YACpB,MAAM,QAAA;YACN,YAAY,EAAE,KAAK,GAAG,OAAO,GAAG,GAAG;YACnC,QAAQ,EAAE,QAAQ;SAClB,CAAC,CAAC;KACH;IACD,kBAAkB,EAAE,UAAC,eAAuB;QAC3C,OAAAA,UAAG,CAAC;YACH,eAAe,iBAAA;YACf,KAAK,EAAE,MAAM;YACb,MAAM,EAAE,MAAM;YACd,QAAQ,EAAE,UAAU;YACpB,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,CAAC;SACP,CAAC;KAAA;IACH,eAAe,EAAE,UAChB,eAAuB,EACvB,MAAc,EACd,KAAa,EACb,cAAsB,EACtB,UAAmB,EACnB,SAA6B,EAC7B,QAA4B;QAE5B,IAAM,gBAAgB,GAAG,UAAU,GAAG,WAAW,GAAG,KAAK,CAAC;QAC1D,OAAOA,UAAG,CAAC;YACV,eAAe,iBAAA;YACf,KAAK,EAAE,KAAK,GAAG,GAAG;YAClB,MAAM,EAAE,CAAC;YACT,MAAM,EAAE,MAAM;YACd,GAAG,EAAE,CAAC;YACN,IAAI,EAAE,MAAM,GAAG,GAAG;YAClB,QAAQ,EAAE,UAAU;YACpB,UAAU,EACT,QAAQ;gBACR,cAAc;gBACd,sBAAsB;gBACtB,cAAc;gBACd,eAAe;YAChB,YAAY,EAAE,IAAI,GAAG,gBAAgB,GAAG,IAAI;YAC5C,KAAK,EAAE,SAAS;YAChB,SAAS,EAAE,QAAQ;YACnB,QAAQ,EAAE,QAAQ,GAAG,QAAQ,GAAG,CAAC;SACjC,CAAC,CAAC;KACH;CACD,CAAC;AAEF,SAAS,kBAAkB,CAC1B,QAAiC,EACjC,cAAsB,EACtB,gBAAyB,EACzB,SAA8C;IAE9C,IAAI,aAAa,GAAG,CAAC,CAAC;IACtB,IAAI,WAAW,GAAsB,EAAE,CAAC;IAExC,IAAM,OAAO,GAAG,SAAS,aAAT,SAAS,cAAT,SAAS,GAAI,KAAK,CAAC;IAEnC,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAO,EAAE,CAAC;QAC3B,WAAW,CAAC,IAAI,CACfC,oBAAC,OAAO,eACH,MAAM,CAAC,eAAe,CACzB,OAAO,CAAC,KAAK,EACb,aAAa,EACb,OAAO,CAAC,KAAK,EACb,cAAc,EACd,CAAC,KAAK,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,gBAAgB,EAC7C,OAAO,CAAC,SAAS,EACjB,OAAO,CAAC,QAAQ,CAChB,IACD,GAAG,EAAE,CAAC,EACN,SAAS,EAAE,OAAO,CAAC,SAAS,EAC5B,OAAO,EAAE,OAAO,KAEf,OAAO,CAAC,cAAc,IAAO,OAAO,CAAC,KAAK,MAAG,CACrC,CACV,CAAC;QACF,aAAa,IAAI,OAAO,CAAC,KAAK,CAAC;KAC/B,CAAC,CAAC;IACH,OAAO,WAAW,CAAC;AACpB,CAAC;SAEuB,aAAa,CAA4B,EAUxC;QATxB,uBAA2B,EAA3B,eAAe,mBAAG,SAAS,KAAA,EAC3B,cAAW,EAAX,MAAM,mBAAG,EAAE,KAAA,EACX,QAAQ,cAAA,EACR,cAAW,EAAX,MAAM,mBAAG,EAAE,KAAA,EACX,aAAY,EAAZ,KAAK,mBAAG,IAAI,KAAA,EACZ,wBAAuB,EAAvB,gBAAgB,mBAAG,IAAI,KAAA,EACvB,sBAAoB,EAApB,cAAc,mBAAG,GAAG,KAAA,EACpB,SAAS,eAAA,EACT,SAAS,eAAA;IAET,QACCA,wCACK,MAAM,CAAC,iBAAiB,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,IACnD,SAAS,EAAE,SAAS;QAEpBA,wCAAS,MAAM,CAAC,kBAAkB,CAAC,eAAe,CAAC,EAAI;QACtD,kBAAkB,CAAC,QAAQ,EAAE,cAAc,EAAE,gBAAgB,EAAE,SAAS,CAAC,CAAC,GAAG,CAC7E,UAAC,OAAO,EAAE,CAAC,IAAK,QACfA,6BAAK,GAAG,EAAE,CAAC,IAAG,OAAO,CAAO,IAC5B,CACD,CACI,EACL;AACH;;;;"}